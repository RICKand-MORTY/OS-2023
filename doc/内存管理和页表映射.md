### 内存管理

内存管理采用位图结构，每个位标志一张页是否已分配

page_alloc.c:

mem_init()：计算物理空间所有可用页，初始化位图结构

page_alloc():分配一页内存

page_free():释放一页内存



### 内存映射

采用Sv39页表映射

mmu_map.c:

create_pgd_mapping():建立PGD页表映射

create_pmd_mapping():建立PMD页表映射

create_pte_mapping():建立PT页表映射

mmu_init():MMU初始化，建立恒等映射

![页表映射结构图](./%E9%A1%B5%E8%A1%A8%E6%98%A0%E5%B0%84.jpeg)

